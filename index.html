<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
  <title>ArtFlow Pro - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ü–∏—Ñ—Ä–æ–≤–∞—è –∂–∏–≤–æ–ø–∏—Å—å</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- –ú–æ–±–∏–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
  <div class="mobile-toolbar" id="mobileToolbar">
    <button class="mobile-toggle" id="mobileToggle">üé®</button>
    <div class="mobile-controls">
      <input type="color" id="mobileColor" value="#007aff">
      <input type="range" id="mobileSize" min="1" max="100" value="20">
      <button id="mobileMenu">‚ò∞</button>
    </div>
  </div>

  <aside class="panel" id="toolbar" aria-label="–ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤">
    <header class="panel-header">
      <h1>üé® ArtFlow Pro</h1>
      <button class="panel-toggle" id="panelToggle">‚óÄ</button>
    </header>

    <!-- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø -->
    <section class="control-group quick-access">
      <div class="quick-controls">
        <input type="color" id="quickColor" value="#007aff" title="–ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–∞">
        <div class="size-presets">
          <button class="size-btn" data-size="5">S</button>
          <button class="size-btn" data-size="20">M</button>
          <button class="size-btn" data-size="50">L</button>
        </div>
      </div>
    </section>

    <!-- –ö–∏—Å—Ç–∏ -->
    <section class="control-group" aria-labelledby="brush-section">
      <h3 id="brush-section" class="control-group-title">
        –ö–ò–°–¢–ò 
        <span class="badge" id="brushCount">60+</span>
      </h3>
      
      <div class="control">
        <label class="control-label" for="brushCategory">
          <span>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
        </label>
        <select id="brushCategory">
          <option value="all">–í—Å–µ –∫–∏—Å—Ç–∏</option>
          <option value="basic">–ë–∞–∑–æ–≤—ã–µ</option>
          <option value="paint">–ñ–∏–≤–æ–ø–∏—Å—å</option>
          <option value="texture">–¢–µ–∫—Å—Ç—É—Ä—ã</option>
          <option value="anime">–ê–Ω–∏–º–µ</option>
          <option value="3d">3D –º–∞—Ç–µ—Ä–∏–∞–ª—ã</option>
          <option value="special">–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ</option>
        </select>
      </div>
      
      <div class="control">
        <label class="control-label" for="brushSelect">
          <span>–¢–∏–ø –∫–∏—Å—Ç–∏</span>
        </label>
        <select id="brushSelect"></select>
      </div>
      
      <div class="control">
        <label class="control-label" for="sizeSlider">
          <span>–†–∞–∑–º–µ—Ä</span>
          <output id="sizeOut" aria-live="polite">20</output>
        </label>
        <input type="range" id="sizeSlider" min="1" max="200" value="20">
      </div>
      
      <div class="control">
        <label class="control-label" for="opacitySlider">
          <span>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</span>
          <output id="opacityOut" aria-live="polite">100%</output>
        </label>
        <input type="range" id="opacitySlider" min="1" max="100" value="100">
      </div>
      
      <div class="control">
        <label class="control-label" for="hardnessSlider">
          <span>–ñ–µ—Å—Ç–∫–æ—Å—Ç—å</span>
          <output id="hardnessOut" aria-live="polite">100%</output>
        </label>
        <input type="range" id="hardnessSlider" min="1" max="100" value="100">
      </div>
      
      <div class="control">
        <label class="control-label" for="spacingSlider">
          <span>–ò–Ω—Ç–µ—Ä–≤–∞–ª</span>
          <output id="spacingOut" aria-live="polite">25%</output>
        </label>
        <input type="range" id="spacingSlider" min="1" max="100" value="25">
      </div>
    </section>

    <!-- –¶–≤–µ—Ç–∞ -->
    <section class="control-group" aria-labelledby="color-section">
      <h3 id="color-section" class="control-group-title">–¶–í–ï–¢–ê</h3>
      
      <div class="control">
        <label class="control-label" for="colorPicker">
          <span>–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç</span>
        </label>
        <input type="color" id="colorPicker" value="#007aff">
      </div>
      
      <div class="control">
        <label class="control-label" for="secondaryColorPicker">
          <span>–í—Ç–æ—Ä–∏—á–Ω—ã–π —Ü–≤–µ—Ç</span>
        </label>
        <input type="color" id="secondaryColorPicker" value="#ff3b30">
      </div>
      
      <div class="color-presets">
        <div class="preset-grid">
          <div class="color-preset" style="background:#ff3b30" data-color="#ff3b30"></div>
          <div class="color-preset" style="background:#ff9500" data-color="#ff9500"></div>
          <div class="color-preset" style="background:#ffcc00" data-color="#ffcc00"></div>
          <div class="color-preset" style="background:#4cd964" data-color="#4cd964"></div>
          <div class="color-preset" style="background:#5ac8fa" data-color="#5ac8fa"></div>
          <div class="color-preset" style="background:#007aff" data-color="#007aff"></div>
          <div class="color-preset" style="background:#5856d6" data-color="#5856d6"></div>
          <div class="color-preset" style="background:#ff2d55" data-color="#ff2d55"></div>
          <div class="color-preset" style="background:#8e8e93" data-color="#8e8e93"></div>
          <div class="color-preset" style="background:#000000" data-color="#000000"></div>
          <div class="color-preset" style="background:#ffffff" data-color="#ffffff"></div>
          <div class="color-preset" style="background:#f2f2f7" data-color="#f2f2f7"></div>
        </div>
      </div>
    </section>

    <!-- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã -->
    <section class="control-group" aria-labelledby="tools-section">
      <h3 id="tools-section" class="control-group-title">–ò–ù–°–¢–†–£–ú–ï–ù–¢–´</h3>
      
      <div class="tools-grid">
        <button class="tool-btn active" data-tool="brush" title="–ö–∏—Å—Ç—å">
          <span class="tool-icon">üñåÔ∏è</span>
          <span class="tool-name">–ö–∏—Å—Ç—å</span>
        </button>
        <button class="tool-btn" data-tool="eraser" title="–õ–∞—Å—Ç–∏–∫">
          <span class="tool-icon">üßΩ</span>
          <span class="tool-name">–õ–∞—Å—Ç–∏–∫</span>
        </button>
        <button class="tool-btn" data-tool="smudge" title="–°–º–∞–∑–∫–∞">
          <span class="tool-icon">üëÜ</span>
          <span class="tool-name">–°–º–∞–∑–∫–∞</span>
        </button>
        <button class="tool-btn" data-tool="blur" title="–†–∞–∑–º—ã—Ç–∏–µ">
          <span class="tool-icon">üåÄ</span>
          <span class="tool-name">–†–∞–∑–º—ã—Ç–∏–µ</span>
        </button>
        <button class="tool-btn" data-tool="fill" title="–ó–∞–ª–∏–≤–∫–∞">
          <span class="tool-icon">ü™£</span>
          <span class="tool-name">–ó–∞–ª–∏–≤–∫–∞</span>
        </button>
        <button class="tool-btn" data-tool="gradient" title="–ì—Ä–∞–¥–∏–µ–Ω—Ç">
          <span class="tool-icon">üåà</span>
          <span class="tool-name">–ì—Ä–∞–¥–∏–µ–Ω—Ç</span>
        </button>
      </div>
      
      <div class="advanced-tools">
        <select id="advancedToolSelect">
          <option value="">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã...</option>
          <option value="lighten">–û—Å–≤–µ—Ç–ª–µ–Ω–∏–µ</option>
          <option value="darken">–ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ</option>
          <option value="saturate">–ù–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å</option>
          <option value="desaturate">–û–±–µ—Å—Ü–≤–µ—á–∏–≤–∞–Ω–∏–µ</option>
          <option value="sharpen">–†–µ–∑–∫–æ—Å—Ç—å</option>
          <option value="clone">–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</option>
          <option value="heal">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</option>
        </select>
      </div>
    </section>

    <!-- –§–∏–≥—É—Ä—ã –∏ —à—Ç–∞–º–ø—ã -->
    <section class="control-group" aria-labelledby="shapes-section">
      <h3 id="shapes-section" class="control-group-title">–§–ò–ì–£–†–´ & –®–¢–ê–ú–ü–´</h3>
      
      <div class="control">
        <label class="control-label" for="shapeCategory">
          <span>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
        </label>
        <select id="shapeCategory">
          <option value="basic">–ë–∞–∑–æ–≤—ã–µ —Ñ–∏–≥—É—Ä—ã</option>
          <option value="anime">–ê–Ω–∏–º–µ —ç–ª–µ–º–µ–Ω—Ç—ã</option>
          <option value="clothing">–û–¥–µ–∂–¥–∞</option>
          <option value="nature">–ü—Ä–∏—Ä–æ–¥–∞</option>
          <option value="architecture">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</option>
          <option value="effects">–≠—Ñ—Ñ–µ–∫—Ç—ã</option>
        </select>
      </div>
      
      <div class="shapes-grid">
        <button class="shape-btn" data-shape="circle" title="–ö—Ä—É–≥">‚óè</button>
        <button class="shape-btn" data-shape="square" title="–ö–≤–∞–¥—Ä–∞—Ç">‚ñ†</button>
        <button class="shape-btn" data-shape="triangle" title="–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫">‚ñ≤</button>
        <button class="shape-btn" data-shape="star" title="–ó–≤–µ–∑–¥–∞">‚òÖ</button>
        <button class="shape-btn" data-shape="heart" title="–°–µ—Ä–¥—Ü–µ">‚ô•</button>
        <button class="shape-btn" data-shape="line" title="–õ–∏–Ω–∏—è">‚îÄ</button>
      </div>
      
      <div class="control">
        <label class="control-label" for="stampSelect">
          <span>–®—Ç–∞–º–ø—ã</span>
        </label>
        <select id="stampSelect">
          <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —à—Ç–∞–º–ø...</option>
          <option value="anime_eye">–ê–Ω–∏–º–µ –≥–ª–∞–∑</option>
          <option value="anime_hair">–ê–Ω–∏–º–µ –≤–æ–ª–æ—Å—ã</option>
          <option value="leaf">–õ–∏—Å—Ç</option>
          <option value="flower">–¶–≤–µ—Ç–æ–∫</option>
          <option value="cloud">–û–±–ª–∞–∫–æ</option>
          <option value="sparkle">–ë–ª–µ—Å–∫</option>
        </select>
      </div>
    </section>

    <!-- –°–ª–æ–∏ -->
    <section class="control-group" aria-labelledby="layers-section">
      <h3 id="layers-section" class="control-group-title">–°–õ–û–ò</h3>
      
      <div class="layers-list" id="layersList">
        <!-- –°–ª–æ–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
      </div>
      
      <div class="button-group">
        <button id="newLayerBtn" title="–î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–π">+ –°–ª–æ–π</button>
        <button id="deleteLayerBtn" title="–£–¥–∞–ª–∏—Ç—å —Å–ª–æ–π">- –£–¥–∞–ª–∏—Ç—å</button>
        <button id="mergeLayersBtn" title="–û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å–ª–æ–∏">‚§µ –û–±—ä–µ–¥–∏–Ω–∏—Ç—å</button>
      </div>
      
      <div class="layer-controls">
        <div class="control">
          <label class="control-label" for="layerOpacity">
            <span>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</span>
            <output id="layerOpacityOut">100%</output>
          </label>
          <input type="range" id="layerOpacity" min="0" max="100" value="100">
        </div>
        
        <div class="control">
          <label class="control-label" for="blendMode">
            <span>–†–µ–∂–∏–º —Å–º–µ—à–∏–≤–∞–Ω–∏—è</span>
          </label>
          <select id="blendMode">
            <option value="normal">–ù–æ—Ä–º–∞–ª—å–Ω—ã–π</option>
            <option value="multiply">–£–º–Ω–æ–∂–µ–Ω–∏–µ</option>
            <option value="screen">–≠–∫—Ä–∞–Ω</option>
            <option value="overlay">–ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ</option>
            <option value="darken">–ó–∞–º–µ–Ω–∞ —Ç–µ–º–Ω—ã–º</option>
            <option value="lighten">–ó–∞–º–µ–Ω–∞ —Å–≤–µ—Ç–ª—ã–º</option>
          </select>
        </div>
      </div>
    </section>

    <!-- –î–µ–π—Å—Ç–≤–∏—è -->
    <section class="control-group" aria-labelledby="actions-section">
      <h3 id="actions-section" class="control-group-title">–î–ï–ô–°–¢–í–ò–Ø</h3>
      
      <div class="button-group">
        <button id="undoBtn" title="–û—Ç–º–µ–Ω–∏—Ç—å (Ctrl+Z)">‚Ü∂ –û—Ç–º–µ–Ω–∞</button>
        <button id="redoBtn" title="–ü–æ–≤—Ç–æ—Ä–∏—Ç—å (Ctrl+Y)">‚Ü∑ –ü–æ–≤—Ç–æ—Ä</button>
      </div>
      
      <div class="button-group">
        <button id="clearBtn" class="secondary" title="–û—á–∏—Å—Ç–∏—Ç—å —Å–ª–æ–π">üóë –û—á–∏—Å—Ç–∏—Ç—å</button>
        <button id="saveBtn" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
      
      <div class="export-options">
        <select id="exportFormat">
          <option value="png">PNG</option>
          <option value="jpg">JPEG</option>
          <option value="webp">WebP</option>
        </select>
        <button id="exportBtn" class="secondary">–≠–∫—Å–ø–æ—Ä—Ç</button>
      </div>
    </section>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
    <section class="control-group" aria-labelledby="settings-section">
      <h3 id="settings-section" class="control-group-title">–ù–ê–°–¢–†–û–ô–ö–ò</h3>
      
      <div class="control">
        <label class="control-label" for="pressureSensitivity">
          <span>–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –Ω–∞–∂–∏–º—É</span>
          <output id="pressureOut">100%</output>
        </label>
        <input type="range" id="pressureSensitivity" min="0" max="200" value="100">
      </div>
      
      <div class="control">
        <label class="control-label" for="smoothingSlider">
          <span>–°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ</span>
          <output id="smoothingOut">50%</output>
        </label>
        <input type="range" id="smoothingSlider" min="0" max="100" value="50">
      </div>
      
      <div class="switch-group">
        <label class="switch">
          <input type="checkbox" id="gridToggle" checked>
          <span class="slider"></span>
          <span class="switch-label">–°–µ—Ç–∫–∞</span>
        </label>
        
        <label class="switch">
          <input type="checkbox" id="pressureToggle" checked>
          <span class="slider"></span>
          <span class="switch-label">–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –Ω–∞–∂–∏–º—É</span>
        </label>
        
        <label class="switch">
          <input type="checkbox" id="darkModeToggle" checked>
          <span class="slider"></span>
          <span class="switch-label">–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</span>
        </label>
      </div>
    </section>
  </aside>

  <main class="main-content" aria-label="–û–±–ª–∞—Å—Ç—å —Ä–∏—Å–æ–≤–∞–Ω–∏—è">
    <div class="canvas-container" id="canvasContainer">
      <canvas id="canvas" aria-label="–•–æ–ª—Å—Ç –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è" role="img">
        <p>–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç canvas. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</p>
      </canvas>
      
      <div class="canvas-overlay" id="canvasInfo" aria-live="polite">
        <div class="canvas-stats">
          <span id="brushInfo">–ö—Ä—É–≥–ª–∞—è | 20px</span>
          <span id="coordinates">X: 0, Y: 0</span>
        </div>
      </div>
      
      <div class="canvas-grid" id="canvasGrid"></div>
    </div>
  </main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é -->
  <div class="modal" id="mobileModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø</h3>
        <button class="modal-close" id="mobileModalClose">√ó</button>
      </div>
      <div class="modal-body">
        <div class="mobile-tools-grid">
          <button class="mobile-tool-btn" data-tool="brush">üñåÔ∏è –ö–∏—Å—Ç—å</button>
          <button class="mobile-tool-btn" data-tool="eraser">üßΩ –õ–∞—Å—Ç–∏–∫</button>
          <button class="mobile-tool-btn" data-tool="fill">ü™£ –ó–∞–ª–∏–≤–∫–∞</button>
          <button class="mobile-tool-btn" data-tool="shape">‚óè –§–∏–≥—É—Ä—ã</button>
        </div>
      </div>
    </div>
  </div>

  <script src="js/brushes.js"></script>
  <script src="js/tools.js"></script>
  <script src="js/layers.js"></script>
  <script src="js/figures.js"></script>
  <script src="js/textures.js"></script>
  <script src="js/anime.js"></script>
  <script src="js/3d.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
